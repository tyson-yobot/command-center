1. ğŸ§‘â€ğŸ’¼ Manual Call Start â€” Final Design & Wiring Plan
ğŸ¯ GOAL:
Let the user launch one-off voice calls with full context and AI config, direct from the dashboard.

âœ… UI Review â€” Whatâ€™s Working
Fields are clean and grouped well

Voice, priority, and script all make sense

Nice footer actions (Cancel / Create Call)

ğŸ› ï¸ ADD THIS TO COMPLETE FUNCTIONALITY:
A. Required Field Logic
Field	Required?	Note
ğŸ“ Phone Number	âœ… Yes	Validate formatting
ğŸ‘¤ Contact Name	âœ… Yes	Autofill from CRM if available
ğŸ—£ï¸ Voice	âœ… Yes	Use from VoiceBot settings
ğŸ“ Script	âœ… Yes	Can default to preset (auto-fill option)
ğŸ“‚ Call Type	âœ… Yes	e.g., Sales / Support / Follow-up
ğŸ“‘ Additional Notes	âŒ Optional	For internal logging only

B. Backend Trigger
POST: /create-manual-call

Payload:

json
Copy
Edit
{
  "phone": "+15551234567",
  "name": "John Doe",
  "company": "Acme Corp",
  "email": "john@acme.com",
  "call_type": "Sales Call",
  "priority": "Medium",
  "voice_profile": "Default Voice",
  "script": "Hello, this is YoBot calling to...",
  "notes": "Follow-up requested last week"
}
Backend (Replit):

Kicks off Lambda / VoiceBot call

Logs call to ğŸ“ Voice Call Log table

Posts status to ğŸ“£ Slack Alerts Log and optionally ğŸ“ˆ Command Center Metrics

âœ… Optional Enhancements
Feature	Benefit
ğŸ” â€œUse Suggested Scriptâ€ button	Pulls from VoiceBot Script Tracker
ğŸ§ â€œPreview Voiceâ€ toggle	Plays voice audio before sending
âœ… â€œAuto-log to CRMâ€ toggle	Updates Airtable or HubSpot

âŒ 2. Export Dashboard Data â€” Broken UX Fix
ğŸ§  Issue:
Currently just opens file explorer (blank), then shows an error toast.

âœ… Correct UX Flow
What should happen instead:

A. Modal Trigger (like Analytics Report)
Clicking â€œExport Dashboard Dataâ€ should:

Open a modal:

Select format: PDF, CSV, XLSX

Choose sections: SmartSpend, Botalytics, Voice Analytics, Client Metrics

Date range selector: Today, Last 7 Days, Custom

Click â€œExportâ€ triggers:

POST /export-dashboard

Returns file stream (not local download)

ğŸ“¡ Backend Endpoint
http
Copy
Edit
POST /export-dashboard
Payload Example:

json
Copy
Edit
{
  "format": "xlsx",
  "sections": ["smartspend", "voice_analytics"],
  "date_range": {
    "start": "2025-06-01",
    "end": "2025-06-15"
  }
}
Returns:

Direct download file URL or stream

Logs to ğŸ“¤ Export Log Table (optional)

âœ… REPLIT HANDOFF SUMMARY
Manual Call Start
Validate all required fields

On submit, POST /create-manual-call with contact + script config

Log to Airtable + Slack

Optional: add â€œUse Suggested Scriptâ€ + â€œPreview Voiceâ€ buttons

Export Dashboard Data
Clicking button should open a modal (not Explorer)

Let user choose sections + format + date range

Then POST /export-dashboard and trigger file download