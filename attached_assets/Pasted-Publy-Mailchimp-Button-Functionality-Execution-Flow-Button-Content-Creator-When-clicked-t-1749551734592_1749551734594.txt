Publy & Mailchimp Button Functionality â€” Execution Flow

ðŸ”˜ Button: Content Creator

When clicked, this must trigger:

POST to Replit webhook: https://replit.com/@tyson44/YoBotAssistant/webhook/content-creator

Payload includes:

selectedIndustry

targetPlatform (e.g., LinkedIn, Email, Blog)

contentType (e.g., carousel, headline, CTA, value post)

characterCount, tone, voicePersona

systemMode flag (Test or Live)

Webhook Handler (content_creator.py) must:

Validate systemMode

Generate content using OpenAI or internal prompt

Log result into:

Airtable ðŸ“„ Content Queue

Publy or CMS API (if Live Mode)

Return preview to frontend and log success/failure to ðŸ“Š Command Center Â· Metrics Tracker

ðŸ”˜ Button: Mailchimp Campaign

When clicked, this must trigger:

POST to Replit webhook: https://replit.com/@tyson44/YoBotAssistant/webhook/mailchimp-campaign

Payload includes:

campaignType (e.g., Welcome, Promo, Newsletter)

audienceSegment

emailSubject, emailBody, CTA

scheduledTime or sendNow

systemMode

Webhook Handler (mailchimp_campaign.py) must:

Generate campaign via Mailchimp API

Apply correct template and audience segment

In Test Mode â†’ create but do not send

In Live Mode â†’ send or schedule

Log to:

Airtable ðŸ“§ Email Campaign Tracker

ðŸ“Š Command Center Â· Metrics Tracker

âœ… Required Airtable Tables

ðŸ“„ Content Queue (title, type, source, status)

ðŸ“§ Email Campaign Tracker (subject, audience, time, mode, result)

ðŸ“Š Command Center Â· Metrics Tracker (button, scenario, pass/fail, timestamp, user)

(Test / Live)

ðŸ§© 1. Global State Handling

Toggle value (Test or Live) must set a global variable (e.g., systemMode)

This variable must be accessible across:

Backend Python scripts

Webhook handlers

UI elements

ðŸ§  2. Conditional Logic for All Backends

All logging/sync calls must be wrapped in this logic:

if systemMode == "live":
    log_command_center_event(payload)
else:
    print("Test Mode enabled: no data logged.")

Applies to:

Airtable logs

HubSpot / Stripe / QBO

Zendesk / RAG / VoiceBot

Slack alerts

ðŸ§ª 3. Logging Mode Changes

Log every mode toggle action into ðŸ“Š Command Center Â· Metrics Tracker, including:

Timestamp

New mode

Trigger origin (UI/API)

User (if known)

ðŸ§¼ 4. UI Behavior

Visual toggle must reflect system state

Live Mode â€“ Production Data label only visible if systemMode = 'live'

Test Mode disables all production UI styling

ðŸš« 5. Prevent Data Pollution

In Test Mode:

DO NOT send or store real data

DO NOT trigger Slack/Stripe/HubSpot/QBO

DO NOT insert CRM records

Use separate Airtable test views if needed