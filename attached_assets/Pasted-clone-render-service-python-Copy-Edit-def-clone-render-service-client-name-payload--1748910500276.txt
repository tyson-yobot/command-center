clone_render_service()
python
Copy
Edit
def clone_render_service(client_name):
    payload = {
        "serviceName": f"yobot-{client_name.lower().replace(' ', '-')}",
        "repo": {"url": "https://github.com/YoBotInc/core-yobot"},
        "env": [{"key": "CLIENT_NAME", "value": client_name}],
        "region": "oregon",
        "branch": "main"
    }
    headers = {"Authorization": f"Bearer {os.getenv('RENDER_API_KEY')}"}
    res = requests.post("https://api.render.com/v1/services", json=payload, headers=headers)
    return res.json().get("id")
âœ… 2. clone_airtable_base()
python
Copy
Edit
def clone_airtable_base(template_base_id, new_name):
    headers = {"Authorization": f"Bearer {os.getenv('AIRTABLE_PAT')}"}
    res = requests.post(
        f"https://api.airtable.com/v0/meta/bases/{template_base_id}/clone",
        json={"name": new_name},
        headers=headers
    )
    return res.json().get("id")
âœ… 3. create_client_slack()
python
Copy
Edit
def create_client_slack(client_name):
    channel = f"alerts-{client_name.lower().replace(' ', '-')}"
    webhook_url = slack_api_create_channel_and_webhook(channel)
    save_to_airtable(client_name, {"ğŸ”” Slack Webhook": webhook_url})
    return webhook_url
âœ… 4. prefill_client_config()
python
Copy
Edit
def prefill_client_config(base_id, client_name):
    headers = {"Authorization": f"Bearer {os.getenv('AIRTABLE_API_KEY')}"}
    data = {
        "fields": {
            "Client Name": client_name,
            "ğŸ—£ï¸ Tone Style": "Confident + Helpful",
            "ğŸ§  AI Depth": "Moderate",
            "ğŸ’¸ Spend Cap": 1500
        }
    }
    requests.post(f"https://api.airtable.com/v0/{base_id}/ğŸ›ï¸%20Client%20Config", headers=headers, json=data)
âœ… 5. personalize_voice_intro()
python
Copy
Edit
def personalize_voice_intro(client_name):
    script = f"Welcome to YoBotÂ®, {client_name}! Your bot is live and handling inbound leads, smart routing, and auto follow-ups."
    create_audio_from_script(script)
âœ… 6. register_new_client()
python
Copy
Edit
def register_new_client(client):
    headers = {"Authorization": f"Bearer {os.getenv('AIRTABLE_API_KEY')}"}
    record = {
        "fields": {
            "ğŸ§¾ Client Name": client["name"],
            "ğŸ“§ Email": client["email"],
            "ğŸ“¦ Render ID": client["render_id"],
            "ğŸ“Š Airtable Base ID": client["airtable_id"],
            "ğŸ“… Date": datetime.now().strftime('%Y-%m-%d')
        }
    }
    requests.post("https://api.airtable.com/v0/YOUR_BASE_ID/ğŸ§ %20Client%20Instances", headers=headers, json=record)
âœ… 7. activate_triggers()
python
Copy
Edit
def activate_triggers(client_email, render_url):
    post_to_slack(f"âœ… YoBot for {client_email} is now LIVE at {render_url}")
    send_email(client_email, "Your YoBotÂ® Is Active", f"Access it here: {render_url}")
    log_test_to_airtable("ğŸ‰ Clone Launch", "âœ… Live", client_email)
